<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>talk in js-代理模式</title>
</head>
<body>
<script>
    // object
    //描述的方式对象是怎样的就出来了
    //对象字面量 JSON Object
    const wzh = {
        name: '吴争晖',
        age: 22,
        yz: 84,
        single: true,
        hometown:'上饶',
        room:1315,
        //上面的属性
        //函数功能 行为 
        //target 形参
        sendFlower: function(target) {
           // console.log(target.name);
            target.receiveFlower(wzh);
        }
    };
    
    const lanlan = {
        name: '澜澜',
        age: 18,
        mood: 50,
        receiveFlower: function(sender){
            //如果心情指数大于80 收花， 拒绝 if/else 
            if(lanlan.mood> 80){
                console.log('收到了花');
            }else {
                console.log('拒绝');
            }
           /*  if(sender.yz <85){
                console.log('收到了花,但是没空,不可能有空');
            }else {
                console.log('备胎排队一下');
            } */
            //console.log('收到了花');
        },
        listenGoodMood: function(){
            //心情不好
            //定时器
            //console.log('本公主谁都不想见');
            setTimeout(function() {
                lanlan.mood=100;
            //    console.log('本公主心情变好了');
                lanlan.receiveFlower();
            },3000);
        }
    }; 
    //送花 A->B A->C->B
    //A 送花 send_flower
    //C 收花 转送给B
    //B 收花 receive_flower
    
    const huahua = {
        name:"花花",
        //与澜澜实现了同样的接口
        receiveFlower: function(sender) {
        //心情好，再送
        //lanlan.receiveFlower(sender);
        //代理者，监听下澜澜的心情
            lanlan.listenGoodMood(function(){

            })
        }
    }
</script>
    
</body>
</html>